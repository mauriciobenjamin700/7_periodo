# Tipos de Bridge (Ponte)

Conforme explicado pelo Dr. Gavin Wood em uma postagem de blog do final de 2019, há três maneiras pelas quais o ecossistema Polkadot e Substrate pode ser conectado ao ecossistema Ethereum.

- Polkadot ↔ Ponte Pública Ethereum.
- Substrato ↔ Ponte Parity Ethereum (Openethereum).
- O módulo Substrato EVM.

[Artigo de Referencia](https://medium.com/polkadot-network/polkadot-substrate-and-ethereum-f0bf1ccbfd13)

## Etherium ↔ Polkadot

Desde o lançamento do artigo Polkadot em 2016, sabíamos que a ponte com o ecossistema Ethereum para ajudar a ampliar as capacidades de ambos os lados seria um dos pontos-chave da rede. Isto não mudou. É claro que “Ethereum” significa muitas coisas diferentes em vários contextos, dependendo em grande parte da intenção e do rigor. Poucos argumentariam que qualquer que seja o uso, Ethereum não se referiria pelo menos à atual “rede principal ETH”. No entanto, alguns afirmariam que isso significaria a exclusão de quaisquer outras redes, mesmo aquelas sancionadas “oficialmente”.

Em outros casos, inclui projetos/redes/forks oficialmente sancionados (de acordo com o proprietário da marca Ethereum), como o Shasper. Alguns também incluiriam forks “não canônicos”, como a cadeia “Clássica” original sob a bandeira Ethereum, mas há quem se oponha a isso.

Alguns, como o grupo industrial Ethereum Enterprise Alliance , ou como é típico nos grupos de desenvolvimento Ethereum, considerariam “Ethereum” um conceito muito mais amplo. Esta visão incluiria qualquer tecnologia baseada ou compatível com o mecanismo de execução original do Ethereum – o EVM – e suas ferramentas de desenvolvimento associadas; Ethermint, Hyperledger Burrow e várias redes Parity-PoA, para citar algumas.

Em qualquer caso, a Parity está mais empenhada do que nunca em apoiar e unir “Ethereum”, seja qual for a sua intenção, em Substrate e Polkadot. Enquanto estamos criando o Substrate e sua infraestrutura de contrato inteligente associada para ser a estrutura mais poderosa e alegre do mundo para a criação de novos blockchains e dApps, entendemos perfeitamente que há muitos que gostam de sua casa no ecossistema Ethereum, seja na rede principal ou simplesmente no comunidade de desenvolvimento mais ampla. Estamos empenhados em fazer o máximo para apoiar essas equipes à medida que se constroem e se interconectam.

Nosso compromisso envolve três projetos distintos, que gostaria de explicar um pouco; uma ponte de rede pública Polkadot/Ethereum, uma ponte Substrate/Parity-Ethereum-PoA e um módulo de execução de contrato inteligente EVM compatível com Ethereum no Substrate.

### Ponte pública Polkadot/Ethereum

O primeiro é essencialmente o software postulado no artigo original de Polkadot, em 2016. A ideia é ter um contrato inteligente na cadeia principal Ethereum que permanece sincronizado com o gadget de finalidade Vovô de Polkadot, sendo uma espécie de “ultra-leve- cliente” para Polkadot. Isso facilita um nível muito geral de interoperação, principalmente para o token nativo da cadeia Ethereum e contratos pré-existentes que fornecem peças-chave de funcionalidade que de outra forma não estariam disponíveis no Polkadot.

Tecnicamente falando, este contrato inteligente é capaz de analisar novos blocos (especificamente aqueles que contêm mensagens destinadas ao Ethereum) e encaminhá-los para a cadeia Ethereum. Um parachain Polkadot incluiria um “cliente leve” Ethereum, capaz de verificar seu sistema de consenso PoW e interpretar recibos de contratos inteligentes e, assim, encaminhar mensagens do Ethereum para a rede Polkadot.

Existem obstáculos para isso, principalmente o preço proibitivo do gás para criptografia não nativa na rede principal Ethereum. Alguns esforços iniciais já estão em andamento para criar tal infraestrutura (como ChainX). No entanto, para funcionar corretamente e sem uma economia adicional de validador/staking, isso precisará de suporte adicional da Polkadot, especificamente fazendo com que seus validadores sejam obrigados a disponibilizar provas de finalidade em formatos nativos do Ethereum. A Web3 Foundation está pesquisando ativamente e especificando o design para isso e subsídios estão disponíveis para equipes (incluindo, entre outras, Parity Technologies) que desejam prosseguir com a implementação do resultado.

### Ponte Substrato/Paridade-Ethereum-PoA

Para alguns projetos, no entanto, a interoperação Polkadot/Ethereum é menos importante, uma vez que eles não poderão ser implantados na rede principal (devido a problemas de escalabilidade). Apesar de não serem implantados na rede principal Ethereum (1.0), esses projetos preferem permanecer fortemente compatíveis com o ecossistema Ethereum por uma infinidade de fatores, incluindo a comunidade ativa e vociferante, ferramentas de desenvolvimento, suporte e documentação, juntamente com a infinidade de provedores de serviços disponíveis. . No final das contas, a rede está na cobiçada posição onde “ninguém culpa você por escolher escrever seu contrato no Ethereum”, e isso é algo que respeitamos e nos orgulhamos por nossa parte em sua criação.

Para apoiar essa perspectiva, apresentaremos uma ponte Substrato para Paridade-Ethereum-PoA , muito semelhante à nossa Ponte Paridade existente , que fica no centro da cadeia xDAI . Neste caso, em vez de conectar uma cadeia Parity Ethereum arbitrária à rede principal Ethereum, ela conecta uma a um módulo Substrate (e por extensão ao Polkadot). Neste caso, a cadeia Ethereum-PoA ainda precisaria de gerir a sua própria segurança (e desta forma torna-a uma proposta de valor não totalmente diferente da Ethermint do Cosmos). A cadeia Ethereum-PoA usaria o algoritmo de consenso Aura rápido (ou um consenso baseado em PBFT de “finalidade instantânea” mais lento) e se beneficiaria da base de código Parity Ethereum testada e comprovada, que tem anos de otimização e ajuste junto com vários adicionais recursos de nível empresarial, incluindo integração de armazenamento secreto e criptografia de estado de contrato.

A infraestrutura necessária é muito mais simples neste caso: introduzimos um contrato especial de pré-compilação na base de código Parity Ethereum que é capaz de validar de forma eficiente e sem estado uma prova de finalidade do Vovô (eliminando a questão dos custos de criptogás não nativos). Com um contrato de ponte (a ser adaptado do sistema de ponte PoA pré-existente da Parity) e um encaminhador de bloco (o mesmo), o único componente adicional necessário é um módulo Substrato que atua como um cliente leve Ethereum/Aura-PoA e pode compreender e encaminhar mensagens. Os trabalhos neste projeto já começaram e esperamos um protótipo até o final do ano.

Este projeto permitirá, portanto, que qualquer cadeia privada segura ou PoA Ethereum construída em Parity Ethereum tenha acesso total a uma cadeia irmã de substrato (como um eventual caminho de atualização) ou à comunidade Polkadot (para usar os recursos de Polkadot e interoperar com outros projetos).

### Substrato EVM

Existem também aqueles projetos que amam a ideia do Substrate e todo o poder e flexibilidade que ele traz consigo (como trabalhadores fora da cadeia, o SRML, transações extensíveis, contratos inteligentes baseados em Rust, governança de metaprotocolos, atualizações com um clique e mais), mas que ainda precisam de um caminho de atualização para sua base de código existente do Solidity, que em alguns casos é realmente bastante substancial. Nosso próprio módulo Substrate Contracts baseado em WebAssembly e suas diversas ferramentas, incluindo o Ink! EDSL baseado em Rust é algo em que embarcamos e com o qual estamos comprometidos por vários motivos: o backend WebAssembly do LLVM significa que muitas linguagens comuns (C, C++, Rust , Go e outras) podem ser facilmente direcionadas para Wasm. A infinidade de ferramentas como interpretadores e compiladores, depuradores, analisadores de código de bytes e bibliotecas significa que o desenvolvimento é dramaticamente melhorado, e com o Ink! obtemos os recursos de teste, documentação e correção da Rust Language.

Além disso, ao abandonar o modelo de execução Ethereum de cinco anos, podemos simplificar e acelerar a base de código (livrando-nos de opcodes EVM falhos ou excessivamente teimosos) e introduzir eficiências econômicas (como separar o upload de código para implantação de instância e introduzir renda estatal baseada em depósitos) no ambiente de execução.

Dito isto, a realidade dita que às vezes os recursos, o desempenho e a clareza devem ficar em segundo plano em relação à compatibilidade. Para isso, estamos apresentando o Substrate EVM . Este é um módulo SRML do Substrate que introduz um ambiente de execução compatível com Ethereum “nativamente” no Substrate. Essencialmente, isso permite que sua cadeia de substrato hospede a grande maioria da função de transição de estado Ethereum. O código Solidity/EVM existente pode ser implantado neste ambiente. A interoperação com o restante do Substrate (ou seja, chamada para outros módulos, transferência de e para outras contas e uso de recursos de mensagens entre cadeias) acontece por meio de APIs de “contrato pré-compilado” especialmente introduzidas.

Pense nisso como um blockchain Ethereum completo dentro de um único módulo SRML, pronto para ser integrado ao restante do seu blockchain personalizado. Uma espécie de camada de virtualização blockchain. O trabalho já começou e também esperamos que um MVP esteja pronto nas próximas semanas.

### Além disso…

Também estamos cada vez mais interessados ​​em apoiar os esforços existentes no desenvolvimento de um backend WebAssembly para o compilador Solidity que seja compatível com o modelo de execução Substrate-Contracts. Se implementado corretamente, isso permitiria que os contratos inteligentes existentes do Solidity (criados para implantação em uma cadeia Ethereum) fossem implantados diretamente em uma cadeia de contratos de substrato.

Na verdade, neste modelo, nada impede que a mesma cadeia Substrate tenha um módulo EVM-Contracts (para executar o código Solidity/EVM de origem), bem como um módulo Substrate-Contracts (para executar o código Solidity/Wasm ou Ink! Wasm). Os dois poderiam interoperar entre si e até mesmo postar mensagens em uma cadeia Parity-Ethereum distinta que é interligada ou, se implantada como um parachain, para a comunidade Polkadot mais ampla, incluindo a rede principal Ethereum!

Desenvolver e fortalecer os componentes principais finais do Polkadot 1.0 é o que estamos focando principalmente no momento e, como tal, nem sempre podemos dedicar tanto tempo de desenvolvedor a esses projetos quanto gostaríamos. Dito isto, a razão de ser de Polkadot é reunir projetos dramaticamente diferentes com diversas suposições técnicas sob o mesmo teto. A comunidade Ethereum é a principal comunidade de desenvolvedores do planeta, com os pensadores mais livres e os desenvolvimentos mais significativos — seríamos míopes se ignorássemos isso. Agora que, após dois longos anos de desenvolvimento, a infraestrutura central do Polkadot e do Substrate está amadurecendo, podemos realmente começar a pensar em construir as partes periféricas e tornar realidade o mundo das diversas cadeias conectadas.

Para obter mais informações sobre Polkadot e Substrato, visite o site Polkadot ou site do Substrato . Você pode visualizar o status do módulo Substrate SRML EVM em seu Github PR ou acompanhar o progresso da ponte Ethereum-PoA/Substrate à medida que a construímos no repositório Github.
